import{a as _,b as u,c as C,d as w,f as p,h as y,j as S,k as E,n as N,p as I}from"./chunk-GMB2OH5J.js";import{a as F}from"./chunk-F4SQSF7Y.js";import"./chunk-VHIVGA7J.js";import{k as h,p as b}from"./chunk-JTZO6T7H.js";import{Db as n,Lb as d,Na as a,Sa as f,Xa as g,hb as s,ob as r,pb as t,qb as l,vb as v}from"./chunk-NWJZ2U3V.js";var c=m=>({"form-control":!0,error:m}),V=(()=>{class m{constructor(e,o){this.fb=e,this._user=o;let i={firstname:new p("",[u.required]),lastname:new p("",[u.required]),email:new p("",[u.required,u.email]),password:new p("",[])};this.registerForm=e.group(i)}selectImage(e){this.image=e.target.files[0]}ngOnInit(){this.userId=this._user.getUserIdFromToken(),this._user.getUserById(this.userId).subscribe({next:e=>{this.user=e,this.registerForm.reset(e)}})}save(){let e=new FormData;e.append("firstname",this.registerForm.value.firstname),e.append("lastname",this.registerForm.value.lastname),e.append("email",this.registerForm.value.email),this.registerForm.value.password&&e.append("password",this.registerForm.value.password),this.image&&e.append("image",this.image),this._user.editUser(this.userId,e).subscribe({next:o=>{window.location.reload()}})}static{this.\u0275fac=function(o){return new(o||m)(f(N),f(F))}}static{this.\u0275cmp=g({type:m,selectors:[["app-profile"]],decls:53,vars:14,consts:[[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"bredcrumb_wrap"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"_dashboard_content"],[1,"_dashboard_content_header"],[1,"_dashboard__header_flex"],[1,"fa","fa-user","mr-1"],[1,"_dashboard_content_body"],[1,"col-auto"],[1,"custom-file","avater_uploads"],["type","file","id","customFile",1,"custom-file-input",3,"change"],["for","customFile",1,"custom-file-label"],[1,"fa","fa-user"],[1,"col"],[3,"ngSubmit","formGroup"],[1,"col-xl-6","col-lg-6"],[1,"form-group"],["type","text","formControlName","firstname",3,"ngClass"],["type","text","formControlName","lastname",3,"ngClass"],["type","email","formControlName","email",3,"ngClass"],["type","password","formControlName","password",3,"ngClass"],["type","submit",1,"btn","btn-save",3,"disabled"]],template:function(o,i){o&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),n(7,"Home"),t()(),r(8,"li",5)(9,"a",6),n(10,"Dashboard"),t()(),r(11,"li",7),n(12,"My Profile"),t()()()()()(),r(13,"div",0)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",10)(18,"h4"),l(19,"i",11),n(20,"My Account"),t()()(),r(21,"div",12)(22,"div",0)(23,"div",13)(24,"div",14)(25,"input",15),v("change",function(M){return i.selectImage(M)}),t(),r(26,"label",16),l(27,"i",17),t()()(),r(28,"div",18)(29,"form",19),v("ngSubmit",function(){return i.save()}),r(30,"div",0)(31,"div",20)(32,"div",21)(33,"label"),n(34,"First Name"),t(),l(35,"input",22),t()(),r(36,"div",20)(37,"div",21)(38,"label"),n(39,"Last Name"),t(),l(40,"input",23),t()(),r(41,"div",20)(42,"div",21)(43,"label"),n(44,"Email"),t(),l(45,"input",24),t()(),r(46,"div",20)(47,"div",21)(48,"label"),n(49,"Password"),t(),l(50,"input",25),t()()(),r(51,"button",26),n(52,"Save Changes"),t()()()()()()()()),o&2&&(a(29),s("formGroup",i.registerForm),a(6),s("ngClass",d(6,c,i.registerForm.controls.firstname.touched&&i.registerForm.controls.firstname.invalid)),a(5),s("ngClass",d(8,c,i.registerForm.controls.lastname.touched&&i.registerForm.controls.lastname.invalid)),a(5),s("ngClass",d(10,c,i.registerForm.controls.email.touched&&i.registerForm.controls.email.invalid)),a(5),s("ngClass",d(12,c,i.registerForm.controls.password.touched&&i.registerForm.controls.password.invalid)),a(),s("disabled",i.registerForm.invalid))},dependencies:[b,h,I,y,_,C,w,S,E],encapsulation:2})}}return m})();export{V as ProfileComponent};
