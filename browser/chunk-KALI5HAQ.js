import{a as E}from"./chunk-U4EFFOIM.js";import{a as y}from"./chunk-IWK7SOX5.js";import{a as C}from"./chunk-F4SQSF7Y.js";import"./chunk-VHIVGA7J.js";import"./chunk-JTZO6T7H.js";import{Db as r,Fb as d,Na as l,Sa as p,Xa as u,ab as v,ca as m,d as w,da as _,lb as g,mb as f,nb as h,ob as t,pb as i,qb as c,sb as b,vb as x,wb as S}from"./chunk-NWJZ2U3V.js";var I=w(y());var P=(n,s)=>s._id;function T(n,s){n&1&&(t(0,"span",20),r(1,"approved"),i())}function B(n,s){n&1&&(t(0,"span",21),r(1,"pending"),i())}function D(n,s){if(n&1){let e=b();t(0,"div",14)(1,"div",15)(2,"h4",16),r(3),i(),t(4,"ul",17)(5,"li")(6,"a",18),x("click",function(){let a=m(e).$implicit,k=S();return _(k.delete(a._id))}),c(7,"i",19),i()(),t(8,"li"),v(9,T,2,0,"span",20)(10,B,2,0,"span",21),i()()(),t(11,"div",22)(12,"div",23)(13,"ul",24)(14,"li")(15,"div",25)(16,"h5"),r(17),i(),t(18,"span"),r(19,"Hourly Rate"),i()()(),t(20,"li")(21,"div",25)(22,"h5"),r(23),i(),t(24,"span"),r(25,"Delivery Time"),i()()()()()()()}if(n&2){let e=s.$implicit;l(3),d(" ",e.idService.name," "),l(6),g(e.status?9:10),l(8),d("$",e.price,""),l(6),d("",e.days," days")}}var j=(()=>{class n{constructor(e,o){this._proposal=e,this._user=o,this.proposals=[]}ngOnInit(){let e=this._user.getUserIdFromToken();console.log("User ID:",e),e?this._proposal.getProposalsByUserId(e).subscribe({next:o=>{this.proposals=o,console.log("Proposals:",this.proposals)},error:o=>{console.error("Error loading proposals",o)}}):console.error("User ID is null")}delete(e){I.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(o=>{o.isConfirmed&&this._proposal.deleteProposal(e).subscribe({next:a=>{this.ngOnInit()},error:a=>{console.error("Error deleting proposal",a)}})})}static{this.\u0275fac=function(o){return new(o||n)(p(E),p(C))}}static{this.\u0275cmp=u({type:n,selectors:[["app-proposals"]],decls:25,vars:0,consts:[[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"bredcrumb_wrap"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"_dashboard_content"],[1,"_dashboard_content_header"],[1,"_dashboard__header_flex"],[1,"ti-layers","mr-1"],[1,"_dashboard_content_body","p-0"],[1,"_grouping_list_task"],[1,"_manage_task_list"],[1,"_manage_task_list_flex"],[1,"_jb_title"],[1,"_action_grouping_list"],["data-toggle","tooltip","data-placement","top","title","","data-original-title","Delete Job",1,"_delete_point",3,"click"],[1,"fa","fa-trash"],[1,"badge","bg-success","text-light","p-2"],[1,"badge","bg-warning","text-light","p-2"],[1,"_manage_task_list_right"],[1,"_act_tsk_info"],[1,"_act_tsk_list"],[1,"_act_capt_01"]],template:function(o,a){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),r(7,"Home"),i()(),t(8,"li",5)(9,"a",6),r(10,"Dashboard"),i()(),t(11,"li",7),r(12,"Active Bids"),i()()()()()(),t(13,"div",0)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",10)(18,"h4"),c(19,"i",11),r(20,"Active Bids"),i()()(),t(21,"div",12)(22,"div",13),f(23,D,26,4,"div",14,P),i()()()()()),o&2&&(l(23),h(a.proposals))},encapsulation:2})}}return n})();export{j as ProposalsComponent};
