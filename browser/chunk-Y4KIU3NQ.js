import{a as T}from"./chunk-U4EFFOIM.js";import{a as j}from"./chunk-2QDW4DQJ.js";import{a as C,b as v,c as w,d as U,f as _,h as P,j as F,k as N,n as k,p as D}from"./chunk-GMB2OH5J.js";import{a as V}from"./chunk-IWK7SOX5.js";import{a as I}from"./chunk-F4SQSF7Y.js";import{a as y}from"./chunk-EPYS6DY5.js";import"./chunk-X4BA4ZY7.js";import"./chunk-VHIVGA7J.js";import"./chunk-JTZO6T7H.js";import{Db as i,Fb as l,La as c,Na as n,Sa as d,Xa as f,a as S,b as h,d as M,hb as p,mb as x,nb as E,ob as e,pb as t,qb as a,vb as b}from"./chunk-NWJZ2U3V.js";var B=M(V());var $=(m,u)=>u._id;function q(m,u){if(m&1&&(e(0,"div",23)(1,"div",54)(2,"div",55),a(3,"img",56),t(),e(4,"div",57)(5,"h4")(6,"a",58),i(7),a(8,"img",10),t()()()(),e(9,"div",59)(10,"div",60)(11,"h4"),i(12),t(),e(13,"span"),i(14),t()()()()),m&2){let o=u.$implicit;n(3),p("src","http://127.0.0.1:5000/image/"+o.idUser.image,c),n(4),l(" ",o.idUser.firstname+" "+o.idUser.lastname," "),n(5),l("$ ",o.price," "),n(2),l("in ",o.days," days")}}var K=(()=>{class m{constructor(o,s,r,g,z){this._service=o,this._act=s,this.fb=r,this._proposal=g,this._user=z,this.proposals=[];let G={price:new _("",[v.required]),days:new _("",[v.required]),cover:new _("",[v.required])};this.proposalForm=r.group(G)}ngOnInit(){this.id=this._act.snapshot.paramMap.get("id"),this.getServiceProposals(),this._service.getServiceById(this.id).subscribe({next:o=>{this.service=o},error:o=>{console.error("Error loading service",o)}})}scroll(){window.scroll(0,1e3)}getServiceProposals(){this._proposal.getProposalsByServiceId(this.id).subscribe({next:o=>{this.proposals=o,console.log(this.proposals)},error:o=>{console.error("Error loading proposals",o)}})}send(){if(!this._user.isLoggedIn()){B.default.fire({icon:"error",title:"Please login to send a proposal",showConfirmButton:!1,timer:1500});return}let o=h(S({},this.proposalForm.value),{idUser:this._user.getUserIdFromToken(),idService:this.id});this._proposal.create(o).subscribe({next:s=>{this.getServiceProposals(),this.proposalForm.reset()},error:s=>{console.error("Error sending proposal",s)}})}static{this.\u0275fac=function(s){return new(s||m)(d(j),d(y),d(k),d(T),d(I))}}static{this.\u0275cmp=f({type:m,selectors:[["app-service"]],decls:122,vars:15,consts:[[1,"page-title","search-form","dark"],[1,"container"],[1,"row"],[1,"col-lg-12","col-md-12"],[1,"_jb_details01"],[1,"_jb_details01_flex"],[1,"_jb_details01_authors"],["alt","",1,"img-fluid",3,"src"],[1,"_jb_details01_authors_caption"],[1,"jbs_title"],["src","assets/img/verify.svg","width","12","alt","",1,"ml-1"],[1,"jbx_info_list"],[1,"ti-briefcase"],[1,"ti-location-pin"],[1,"_jb_details01_last"],[1,"_flex_btn"],[1,"_applied_jb",3,"click"],[1,"gray-light"],[1,"col-lg-8","col-md-12","col-sm-12"],[1,"_job_detail_box"],[1,"_wrap_box_slice"],[1,"_job_detail_single"],[1,"_proposal_bids_list"],[1,"_proposal_bids_single"],[1,"proposal-form",3,"ngSubmit","formGroup"],[1,"col-lg-6","col-md-12","col-sm-12"],[1,"form-group"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["formControlName","price","type","text",1,"form-control"],["formControlName","days","type","text",1,"form-control"],[1,"col-lg-12","col-md-12","col-sm-12"],["formControlName","cover","rows","3",1,"form-control"],["type","submit",1,"btn_proposal_send"],[1,"col-lg-4","col-md-12","col-sm-12"],[1,"_jb_summary","light_box"],[1,"_jb_summary_largethumb"],[1,"_jb_summary_thumb"],[1,"_jb_summary_caption"],[1,"pises_price"],[1,"_jb_summary_body"],[1,"_view_profile_btns"],["href","employer-detail.html",1,"btn","btn_emplo_eloi"],[1,"_jb_summary","light_box","p-4"],[1,"call-to-act",2,"background","#0b85ec url(assets/img/landing-bg.png) no-repeat"],[1,"row","justify-content-center"],[1,"col-lg-7","col-md-8"],[1,"clt-caption","text-center","mb-4"],[1,"text-light"],[1,"inner-flexible-box","subscribe-box"],["type","text","placeholder","Enter your mail here",1,"form-control","large"],["type","button",1,"btn","btn-subscribe","bg-dark"],[1,"fa","fa-arrow-right"],[1,"_proposal_bids_flex"],[1,"_proposal_bids_thumb"],["alt","",1,"img-fluid","circle",3,"src"],[1,"_proposal_bids_caption","mt-3"],["href","freelancer-detail.html"],[1,"_proposal_bids_right"],[1,"_freelancer_rate"]],template:function(s,r){s&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),a(7,"img",7),t(),e(8,"div",8)(9,"h4",9),i(10),a(11,"img",10),t(),e(12,"ul",11)(13,"li")(14,"span"),a(15,"i",12),i(16),t()(),e(17,"li")(18,"span"),a(19,"i",13),i(20),t()()()()(),e(21,"div",14)(22,"ul",15)(23,"li")(24,"a",16),b("click",function(){return r.scroll()}),i(25,"Send Proposal"),t()()()()()()()()(),e(26,"section",17)(27,"div",1)(28,"div",2)(29,"div",18)(30,"div",19)(31,"div",20)(32,"div",21)(33,"h4"),i(34,"Job Duties:"),t(),e(35,"p"),i(36),t()()(),e(37,"div",20)(38,"div",21)(39,"h4"),i(40),t(),e(41,"div",22),x(42,q,15,4,"div",23,$),t()()(),e(44,"div",20)(45,"div",21)(46,"h4"),i(47,"Send Proposal"),t(),e(48,"form",24),b("ngSubmit",function(){return r.send()}),e(49,"div",2)(50,"div",25)(51,"div",26)(52,"label"),i(53,"Your Price"),t(),e(54,"div",27)(55,"div",28)(56,"span",29),i(57),t()(),a(58,"input",30),t()()(),e(59,"div",25)(60,"div",26)(61,"label"),i(62,"Days To Complete"),t(),e(63,"div",27)(64,"div",28)(65,"span",29),i(66,"Days"),t()(),a(67,"input",31),t()()(),e(68,"div",32)(69,"div",26)(70,"label"),i(71,"Cover Letter"),t(),a(72,"textarea",33),t()()(),e(73,"div",2)(74,"div",32)(75,"button",34),i(76,"Send Proposal"),t()()()()()()()(),e(77,"div",35)(78,"div",36)(79,"div",37),a(80,"img",7),t(),e(81,"div",38),a(82,"img",7),t(),e(83,"div",39)(84,"h4"),i(85),t(),e(86,"h4",40),i(87),t()(),e(88,"div",41)(89,"div",42)(90,"a",43),i(91,"View Profile"),t()()()(),e(92,"div",44)(93,"h4"),i(94,"Job Explain"),t(),e(95,"ul")(96,"li"),i(97,"Categorie:"),e(98,"span"),i(99),t()(),e(100,"li"),i(101,"Location:"),e(102,"span"),i(103),t()(),e(104,"li"),i(105,"Salary:"),e(106,"span"),i(107),t()()()()()()()(),e(108,"section",45)(109,"div",1)(110,"div",46)(111,"div",47)(112,"div",48)(113,"h2",49),i(114,"Subscribe Now!"),t(),e(115,"p",49),i(116,"Simple pricing plans. Unlimited web maintenance service"),t()(),e(117,"div",50)(118,"div",27),a(119,"input",51),e(120,"button",52),a(121,"i",53),t()()()()()()()),s&2&&(n(7),p("src","http://127.0.0.1:5000/image/"+r.service.idUser.image,c),n(3),l(" ",r.service.name," "),n(6),l(" ",r.service.categorie," "),n(4),l(" ",r.service.location," "),n(16),l(" ",r.service.description," "),n(4),l("Project Bids( ",r.proposals.length," )"),n(2),E(r.proposals),n(6),p("formGroup",r.proposalForm),n(9),l(" ","@"," "),n(23),p("src","http://127.0.0.1:5000/image/"+r.service.image,c),n(2),p("src","http://127.0.0.1:5000/image/"+r.service.idUser.image,c),n(3),l(" Posted By : ",r.service.idUser.firstname+" "+r.service.idUser.lastname," "),n(2),l("$",r.service.salary," "),n(12),l(" ",r.service.categorie," "),n(4),l(" ",r.service.location," "),n(4),l(" ",r.service.salary," "))},dependencies:[D,P,C,w,U,F,N],encapsulation:2})}}return m})();export{K as ServiceComponent};
